install_java() {
    if [ "$(uname)" == "Darwin" ]; then
        if ! /usr/libexec/java_home -V 2>&1 | grep -q "No Java runtime present"; then
            echo "✅ Java is already installed on macOS."
        else
            if ! brew list --cask adoptopenjdk/openjdk/adoptopenjdk &> /dev/null; then
                if ! brew install --cask adoptopenjdk/openjdk/adoptopenjdk11; then
                    echo "❌ Failed to install Java using Homebrew."
                    exit 1
                fi
            else
                echo "✅ Java is already installed using Homebrew."
            fi
        fi
    else
        if ! command -v java &> /dev/null; then
            if [ -x "$(command -v apt-get)" ]; then
                if ! sudo apt-get install -y openjdk-11-jdk; then
                    echo "❌ Failed to install Java using apt-get."
                    exit 1
                fi
            elif [ -x "$(command -v yum)" ]; then
                if ! sudo yum install -y java-11-openjdk-devel; then
                    echo "❌ Failed to install Java using yum."
                    exit 1
                fi
            else
                echo "❌ Package manager not found. Please install Java manually."
                exit 1
            fi
        else
            echo "✅ Java is already installed."
        fi
    fi
    echo "✅ Java installation successful."
}
